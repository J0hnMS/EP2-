# Transforma base de questões

def transforma_base(questoes):
    lista_facil = []
    lista_medio = []
    lista_dificil = []
    dic = {}
    for i in questoes:
        for questao, nivel in i.items():
            if nivel == 'facil':
                lista_facil.append(i)
            elif nivel == 'medio':
                lista_medio.append(i)
            elif nivel == 'dificil':
                lista_dificil.append(i)
    
    if lista_facil != []:
        dic['facil'] = lista_facil
    if lista_medio  != []:
        dic['medio'] = lista_medio
    if lista_dificil != []:
        dic['dificil'] = lista_dificil
       
    return dic
    
    
# Valida uma questão

def valida_questao(questao):
    temerro = False
    if 'titulo' not in questao.keys():
        questao['titulo'] = 'nao_encontrado'
        temerro = True
    elif 'nivel' not in questao.keys():
        questao['nivel'] = 'nao_encontrado'
        temerro = True
    elif 'opcoes' not in questao.keys():
        questao['opcoes'] = 'nao_encontrado'
        temerro = True
    elif 'correta' not in questao.keys():
        questao['correta'] = 'nao_encontrado'
        temerro = True
    
    if len(questao.keys()) != 4:
        questao['outro'] = 'numero_chaves_invalido'
        temerro = True

    if 'titulo' in questao.values() == '':
        questao['titulo'] = 'vazio'
        temerro = True

    if 'nivel' in questao.values() != 'facil' or 'medio' or 'dificil':
        questao['nivel'] = 'valor_errado'
        temerro = True

    if len(questao['opcoes'].keys()) != 4:
        questao['opcoes'] = 'tamanho_invalido'
        temerro = True

    if 'opcoes' in questao.values() != 'A' or 'B' or 'C' or 'D':
        questao['opcoes'] = 'chave_invalida_ou_nao_encontrada'
        temerro = True

    else:
        if 'A' in questao['opcoes'].values() == '':
            questao['opcoes']['A'] = 'vazia'
            temerro = True
        if 'B' in questao['opcoes'].values() == '':
            questao['opcoes']['B'] = 'vazia'
            temerro = True
        if 'C' in questao['opcoes'].values() == '':
            questao['opcoes']['C'] = 'vazia'
            temerro = True
        if 'D' in questao['opcoes'].values() == '':
            questao['opcoes']['D'] = 'vazia'
            temerro = True
        
    if 'correta' in questao.values() != 'A' or 'B' or 'C' or 'D':
        questao['correta'] = 'valor_errado'
        temerro = True
    
    if temerro == False:
        return {}

    else:
        return questao
